<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>%2F2019%2F08%2F10%2FJDBC%E8%87%AA%E5%86%99%E5%B7%A5%E5%85%B7%E7%B1%BB%E8%B8%A9%E5%9D%91%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[JDBC自写工具类踩坑记1.首先，工具类源码如下： package com.ssillycat.utils; import java.io.FileInputStream; import java.io.IOException; import java.sql.*; import java.util.Properties; public class jdbc_utils { /*静态变量，包括注册驱动需要传的参数，连接对象需要传的url，user，password， 这些参数都存在properties中*/ private static String url; private static String user; private static String password; private static String driver; //静态代码块，对静态变量进行赋值 static { try { //读取properties中的内容 Properties pro = new Properties(); String path = jdbc_utils.class.getClassLoader().getResource(&quot;jdbc.properties&quot;).getPath(); pro.load(new FileInputStream(path)); //获取数据，赋值 url = pro.getProperty(&quot;url&quot;); user = pro.getProperty(&quot;user&quot;); password = pro.getProperty(&quot;password&quot;); driver = pro.getProperty(&quot;driver&quot;); //注册驱动 Class.forName(driver); } catch (IOException e) { e.printStackTrace(); } catch (ClassNotFoundException e) { e.printStackTrace(); }catch (NullPointerException e) { e.printStackTrace(); } } /** * 获取资源 * @return * @throws SQLException */ public static Connection conn() throws SQLException { return DriverManager.getConnection(url, user, password); } /** * 释放资源 * @param stmt * @param conn */ public static void close(Statement stmt,Connection conn){ if( stmt != null){ try { stmt.close(); } catch (SQLException e) { e.printStackTrace(); } } if( conn != null){ try { conn.close(); } catch (SQLException e) { e.printStackTrace(); } } } /** * 释放资源[重载] * @param stmt * @param conn */ public static void close(ResultSet rs,Statement stmt, Connection conn){ if( rs != null){ try { rs.close(); } catch (SQLException e) { e.printStackTrace(); } } if( stmt != null){ try { stmt.close(); } catch (SQLException e) { e.printStackTrace(); } } if( conn != null){ try { conn.close(); } catch (SQLException e) { e.printStackTrace(); } } } }2.properties储存内容 url=jdbc:mysql://localhost:3306/db2 user=root password=root driver=com.mysql.jdbc.Driver3.踩坑记 1.properties中的储存的值不应带有双引号： url=&quot;jdbc:mysql://localhost:3306/db2&quot; user=&quot;root&quot; password=&quot;root&quot; driver=&quot;com.mysql.jdbc.Driver&quot; 带有双引号properties返回的字符串也是会带有双引号，储存在静态变量中作为参数在.conn()方法中调用会抛出连接异常： java.sql.SQLException: No suitable driver found for &quot;jdbc:mysql://localhost:3306/db2&quot; 2.properties的getProperty()方法中的参数传的是字符串，错误如下： url = pro.getProperty(url); user = pro.getProperty(user); password = pro.getProperty(password); driver = pro.getProperty(driver); 因为第一点导致的第二点的错误，敲代码敲糊涂了。 3.driver=&quot;com.mysql.jdbc.Driver&quot;中的Driver手写字母为大写4.原因： 过于依赖IDEA，为了追求代码速度忽略了许多东西。阿西吧！]]></content>
  </entry>
  <entry>
    <title><![CDATA[终于把博客弄好了]]></title>
    <url>%2F2019%2F08%2F04%2F%E5%8D%9A%E5%AE%A2%E2%88%9A%2F</url>
    <content type="text"><![CDATA[优秀的人，不是不合群，而是他们合群的人里面没有你 用了两天时间，终于把博客给搭建好了，累并快乐着]]></content>
      <categories>
        <category>多动症</category>
      </categories>
      <tags>
        <tag>开心</tag>
        <tag>脱发</tag>
      </tags>
  </entry>
</search>
